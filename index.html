<!DOCTYPE html>
<html>
<head>
	<title>Slave to the Traffic Light</title>
	<script>

function Car(name){
	//name of the car for ease of determination of objects
    this.name = name;
    //The current state of the car, i.e. stopped or started;
    this.currentState;
    var state = null;// Can either be "driving" or "stopped"

//    Object.defineProperties(this, {
//        currentState: {
//            get: function () {
//                return state;
//            },
//            set: function () {
//                this.stop = function () {
//                    //make the car console log a message to indicate it is stopping
//                    state = "stopped";
//                    console.log("Car is", state);
//                };
//                this.drive = function () {
//                    //make the car console log a message to indicate it is moving
//                    this.state = "driving";
//                    console.log("Car is", state);
//                };
//            }
//        }
//    });
}

//function TrafficLight(){
//	this.cars = [];
//	this.addCar = function(){
//		//add a car to the list of cars that will be made
//        this.cars.push(new Car("Herbie"));
//        this.cars.push(new Car("Knight Rider"));
//		//probably should make the cars here too
//	};
//	this.turnRed = function(){
//		//make all the cars stop
//        for (var i = 0; i < this.cars.length; i++) {
//            this.cars[i].state = "stopped";
//        }
//	};
//	this.turnGreen = function(){
//		//make all the cars start
//        for (var i = 0; i < this.cars.length; i++) {
//            this.cars[i].state = "driving";
//        }
//	}
//}
//var testLight = new TrafficLight();
//testLight.addCar();
/*
* NOTES
* A traffic light should have a serial number for identification, a green light duration, and a red light duration
 */
function DOTSystem() {
    this.trafficLights = {};
    this.addTrafficLight = function(serialNo,greenLightDuration, redLightDuration) {
        this.trafficLights[serialNo] = new TrafficLight(serialNo,greenLightDuration,redLightDuration);
    };
    this.removeTrafficLight = (trafficLightToRemove) => {
        console.log("Traffic Light removed");
    };
}

function TrafficLight(serialNo, greenLightDuration, redLightDuration) {
    this.serialNo = serialNo;
    this.greenLightDuration = greenLightDuration; // length of the green light
    this.redLightDuration = redLightDuration; // length of the red light
    this.cars = {}; // Cars at the intersection
    this.turnRed = () => {
        console.log("turning red intensifies");
        // Should remove a fixed number of cars from the based on the duration; cars to remove (cars) = coefficient (cars/s) * duration (s)
    };
    this.turnGreen = () => {
        console.log("turning green");
    };
}
var deptTran = new DOTSystem(); // Make a new department who has a network of lights (made with *.addTrafficLight(lightSerialNo)
console.log("deptTran", deptTran);
deptTran.addTrafficLight(1);
deptTran.addTrafficLight(2);
deptTran.addTrafficLight(3);
console.log("deptTran.trafficLights",deptTran.trafficLights);

	</script>
</head>
<body>
<div>See the city,</div>
<div>see the zoo,</div>
<div>traffic light wont let me through</div>
</body>
</html>